<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="Cache-Control"
	content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<title>Τίτλος</title>
<link rel="stylesheet" href="./jquery-ui/jquery-ui.css">
<script src="./jquery-3.2.1.js"></script>
<script src="./jquery-ui/jquery-ui.js"></script>

<script>
function callAjax(){
	 
	$.ajax({
		url: "http://localhost:8080/paraga/api/person/all",
	    type: "GET",
	    dataType: "json",
	    contentType: "application/json"
	    
	})
	.fail(function(){
    	alert( "error" );
	}
	)
	.done(function(){
		alert("success");
	}

	)
	;
}

$(document).ready(function(){ // xrhsimopoioume thn biblio8hkh jquery-ui.min.js kai auth h entolh sumainei otan einai fortomenh h selida ektelese
	$('#but1').click(function(e) { // προσθηκη συνάρτηση στο click του button
		callAjax();
	});
    
});
</script>
<body>
	Σε αυτό το παράδειγμα προσθέτουμε στην ajax κλήση, το fail, στο οποίο
	ορίζουμε τι θα κάνουμε σε περίπτωση λάθους. Σε αυτό το παράδειγμα θα κάνει alert ένα αλφαριθμητικό με τιμή "error".
	Το error καλείται και όταν δεν απαντήσει ο server και όταν απαντήσει με status που σημαίνει error, π.χ. 500.
	Επίσης προσθέτουμε το done (callback λεγονται αυτές οι συναρτήσεις , γιατί εκτελούνται μετά από την εκτέλεση της ajax)
	To done εκτελείται όταν πετύχει η κλήση στον server. Στο παράδειγμα μας εκτελειται και κάνει alert το αλφαριθμητικό με 
	τιμή success.
	
	<button id="but1">callAjax</button>

</body>
</html>